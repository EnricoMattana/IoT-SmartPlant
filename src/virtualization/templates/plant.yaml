schemas:
  common_fields:
    _id: str
    type: str
    profile:
      name: str
      owner_id: str
      garden_id: str
      description: str
      preset: str
      outdoor: bool
      location: str
      auto_watering: bool
    metadata:
      created_at: datetime
      updated_at: datetime
      status: str
      last_warning_ts: str
      auto_watering_status: Dict

  entity:
    data:
      measurements: List[Dict]

  validations:
    mandatory_fields:
      root:
        - _id
        - type
      profile:
        - garden_id
        - name
        - owner_id
        - outdoor
        - location
        - auto_watering
      metadata:
        - created_at
        - updated_at
    type_constraints:
      _id:
        type: str
      type:
        type: str
    #profile
      preset:
        type: str
        enum: ["1", "2", "3"]
      name:
        type: str
      owner_id:
        type: str
      description:
        type: str
      location:
        type: str
      outdoor:
        type: bool
      auto_watering:
        type: bool
      garden_id:
        type: str
      measurements:
        type: List[Dict]
        item_constraints:
          required_fields: ["type", "value", "timestamp"]
          type_mappings:
            type: str
            value: float
            timestamp: datetime

    initialization:
      profile:
        preset: "2"
      metadata:
        status: "active"
        last_warning_ts: null
        auto_watering_status:
          last_forecast: null
          skip_pred: False
          disable_aw: False
      data:
        measurements: []
